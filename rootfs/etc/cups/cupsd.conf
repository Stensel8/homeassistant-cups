# CUPS configuration - HTTPS/TLS ONLY
LogLevel warn
PageLogFormat
MaxLogSize 0

# Listen on all interfaces (port will be set by start script)
Listen 0.0.0.0:631
Listen /var/run/cups/cups.sock

# Web interface settings
WebInterface Yes

# Force HTTPS/TLS encryption
DefaultEncryption Required

# SSL Certificate paths
ServerCertificate /etc/cups/ssl/server.crt
ServerKey /etc/cups/ssl/server.key

# Administrator settings
SystemGroup lpadmin
SystemGroupAuthKey system.print.admin

# Authentication
DefaultAuthType Basic

# Access control - ALL REQUIRE ENCRYPTION
<Location />
  Order allow,deny
  Allow all
  Encryption Required
</Location>

<Location /admin>
  AuthType Basic
  Require user @SYSTEM
  Order allow,deny
  Allow all
  Encryption Required
</Location>

<Location /admin/conf>
  AuthType Basic
  Require user @SYSTEM
  Order allow,deny
  Allow all
  Encryption Required
</Location>

# Server settings
ServerName *
ServerAlias *
ServerTokens None
MaxJobs 100
MaxJobsPerPrinter 0
MaxJobsPerUser 0

# Disable FileDevice for security
FileDevice No

# Printcap settings
Printcap /etc/printcap
PrintcapFormat bsd

# Browsing and sharing
Browsing On
BrowseLocalProtocols dnssd
DefaultShared Yes

# Remote access allowed
<Location />
  Allow From All
</Location>

<Location /admin>
  Allow From All
</Location>
