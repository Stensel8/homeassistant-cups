name: CUPS Print Server
version: 2.0.0
slug: cups-server
description: "CUPS print server for Home Assistant"
url: https://github.com/stensel8/homeassistant-cups
arch:
  - aarch64
  - amd64
  - armv7
  - i386
startup: services
boot: auto
init: false
homeassistant_api: true
hassio_api: true
hassio_role: default

# Network configuration
host_network: false
ports:
  631/tcp: 631
ports_description:
  631/tcp: "CUPS Web Interface (HTTPS)"

# Privileges for USB access
privileged:
  - SYS_ADMIN
usb: true
devices:
  - /dev/bus/usb

# Access to host dbus (for avahi/mDNS)
# This is important for AirPrint discovery
apparmor: false

# Configuration options for users
options:
  admin_username: "admin"
  admin_password: "admin"
  ssl_enabled: true
  log_level: "info"
  
schema:
  admin_username: str
  admin_password: password
  ssl_enabled: bool
  log_level: list(debug|info|warn|error)

# Panel in Home Assistant UI
panel_icon: mdi:printer
panel_title: CUPS Print Server
webui: "https://[HOST]:[PORT:631]/"

# Image configuration
image: stensel8/homeassistant-cups:latest
